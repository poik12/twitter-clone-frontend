<ng-container>
  <div class="home__post" (click)="navigateToPostDetails()">
    <!-- Post Author Image -->
    <div class="home__postAuthorImage">
      <img
        style="width: 50px; height: 50px; border-radius: 100%"
        src="{{ jpgFormat + post.userProfilePicture }}"
        alt="user"
        [matMenuTriggerFor]="profileBlock"
        #trigger="matMenuTrigger"
        (mouseenter)="trigger.openMenu()"
        (mouseleave)="trigger.closeMenu()"
      />
    </div>

    <!-- Post Description -->
    <div class="home__postDescription">
      <!-- Post Header -->
      <div class="home__postDescriptionHeader">
        <!-- Author Name -->
        <div
          class="home__postDescriptionHeaderAuthor"
          (click)="navigateToUserDetails($event)"
        >
          {{ post.name }}
        </div>

        <!-- Verified Icon -->
        <div class="home__postDescriptionHeaderVerified">
          <fa-icon
            class="home__postDescriptionHeaderVerified"
            [icon]="verifiedIcon"
          >
          </fa-icon>
        </div>

        <!-- Author Username -->
        <div class="home__postDescriptionHeaderUsername">
          @{{ post.username }}
        </div>

        <!-- Realative Time when post was added -->
        <div class="home__postDescriptionHeaderTime">
          Â· {{ post.postTimeDuration }}
        </div>

        <!-- Options Icon -->
        <div class="home__postDescriptionHeaderMoreOption">
          <fa-icon
            (click)="openPostMenu($event)"
            [matMenuTriggerFor]="postMenu"
            class="home__postDescriptionHeaderMoreOptionIcon"
            [icon]="moreIcon"
          >
          </fa-icon>
          <!-- Menu button options -->
          <mat-menu #postMenu="matMenu">
            <button
              mat-menu-item
              *ngIf="checkIfPostBelongsToLoggedUser()"
              (click)="deletePost(post.id)"
            >
              <mat-icon>delete</mat-icon>
              <span>DeletePost</span>
            </button>
            <button mat-menu-item>
              <mat-icon>settings</mat-icon>
              <span>Settings</span>
            </button>
          </mat-menu>
        </div>
      </div>

      <!-- Post Body -->
      <div class="home__postDescriptionBody">
        <!-- Post Description -->
        <div
          class="home__postDescriptionBodyText"
          [innerHTML]="post.description | hmColor"
        >
          {{ post.description }}
        </div>
        <!-- Post url -->
        <div class="home__postDescriptionBodyImageContainer">
          <!-- Image shape depending on post.fileContent.length -->
          <ng-container [ngSwitch]="post.fileContent.length">
            <!-- 1 Image file -->
            <ng-container *ngSwitchCase="1">
              <img
                class="home__postDescriptionBodyImage_Layout"
                src="{{ this.jpgFormat + post.fileContent[0] }}"
                alt=""
                (click)="openFullSizeImageDialog($event, 0)"
              />
            </ng-container>
            <!-- 2 Image files -->
            <ng-container *ngSwitchCase="2">
              <div style="display: flex">
                <img
                  class="home__postDescriptionBodyImage_Layout_leftImage"
                  src="{{ this.jpgFormat + post.fileContent[0] }}"
                  alt=""
                  (click)="openFullSizeImageDialog($event, 0)"
                />
                <img
                  class="home__postDescriptionBodyImage_Layout_rightImage"
                  src="{{ this.jpgFormat + post.fileContent[1] }}"
                  alt=""
                  (click)="openFullSizeImageDialog($event, 1)"
                />
              </div>
            </ng-container>
            <!-- 3 Image files -->
            <ng-container *ngSwitchCase="3">
              <div style="display: flex">
                <img
                  class="home__postDescriptionBodyImage_Layout_leftImage"
                  src="{{ this.jpgFormat + post.fileContent[0] }}"
                  alt=""
                  (click)="openFullSizeImageDialog($event, 0)"
                />
                <div>
                  <img
                    class="home__postDescriptionBodyImage_Layout_rightImageTop"
                    src="{{ this.jpgFormat + post.fileContent[1] }}"
                    alt=""
                    (click)="openFullSizeImageDialog($event, 1)"
                  />
                  <img
                    class="home__postDescriptionBodyImage_Layout_rightImageBottom"
                    src="{{ this.jpgFormat + post.fileContent[2] }}"
                    alt=""
                    (click)="openFullSizeImageDialog($event, 2)"
                  />
                </div>
              </div>
            </ng-container>
            <!-- 4 Image files -->
            <ng-container *ngSwitchCase="4">
              <div style="display: flex">
                <div>
                  <img
                    class="home__postDescriptionBodyImage_Layout_leftImageTop"
                    src="{{ this.jpgFormat + post.fileContent[0] }}"
                    alt=""
                    (click)="openFullSizeImageDialog($event, 0)"
                  />
                  <img
                    class="home__postDescriptionBodyImage_Layout_leftImageBottom"
                    src="{{ this.jpgFormat + post.fileContent[1] }}"
                    alt=""
                    (click)="openFullSizeImageDialog($event, 1)"
                  />
                </div>
                <div>
                  <img
                    class="home__postDescriptionBodyImage_Layout_rightImageTop"
                    src="{{ this.jpgFormat + post.fileContent[2] }}"
                    alt=""
                    (click)="openFullSizeImageDialog($event, 2)"
                  />
                  <img
                    class="home__postDescriptionBodyImage_Layout_rightImageBottom"
                    src="{{ this.jpgFormat + post.fileContent[3] }}"
                    alt=""
                    (click)="openFullSizeImageDialog($event, 3)"
                  />
                </div>
              </div>
              <!-- 0 Image Files -->
            </ng-container>
            <ng-container *ngSwitchDefault></ng-container>
          </ng-container>
        </div>
      </div>

      <!-- Post Parameters -->
      <div class="home__postParameters">
        <app-post-parameters
          [postId]="post.id"
          [likesCount]="post.likeNo"
          [isPostLiked]="post.likedByLoggedUser"
          [commentCount]="post.commentNo"
        ></app-post-parameters>
      </div>
    </div>
  </div>
</ng-container>

<mat-menu #profileBlock="matMenu" [hasBackdrop]="false">
  <app-profile-block [username]="post.username"></app-profile-block>
</mat-menu>
